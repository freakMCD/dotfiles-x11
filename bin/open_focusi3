#!/bin/bash
# focus window if exist, else start new window
# for terminal programs

open_program() {
    if xdotool search --classname $program ; then
        i3-msg '[instance="'$program'"] scratchpad show'
    else
        urxvtc -name $program -e $program
        i3-msg '[instance="'$program'"] focus'
    fi
}

open_args() {
    if xdotool search --classname $program ; then
        i3-msg '[instance="'$program'"] scratchpad show'
    else
        urxvtc -name $program -e sh -c "$args"
        i3-msg '[instance="'$program'"] focus'
    fi
}

while getopts "rtnmw" OPTION
do
    case $OPTION in
        r)
            program="ranger"
            open_program
            exit 0
            ;;
        t)
            program="trans"
            args="trans -I"
            open_args
            exit 0
            ;;
        n)
            program="newsboat"
            open_program
            exit 0
            ;;            
        m)
            program="neomutt"
            open_program
            exit 0
            ;;
        w)
            program="weechat"
            open_program
            exit 0
            ;;
    esac
done
